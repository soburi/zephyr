# Copyright (c) 2024 TOKITA Hiroshi
# SPDX-License-Identifier: Apache-2.0

common:
  tags:
    - subsys
    - cfb
  filter: dt_chosen_enabled("zephyr,display")
  build_only: true # The CI environment has no display device
tests:
  cfb.basic.argb_8888:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_ARGB_8888=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=307200
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.argb_8888.msbfirst_font:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_ARGB_8888=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=307200
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
      - CONFIG_TEST_MSB_FIRST_FONT=y
  cfb.basic.rgb_888:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_RGB_888=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=230400
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.rgb_565:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_RGB_565=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=153600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.bgr_565:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_BGR_565=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=153600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono01:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO01=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono10:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO10=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono01.lsbfirst:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO01=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_SDL_DISPLAY_MONO_MSB_FIRST=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono10.lsbfirst:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO10=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_SDL_DISPLAY_MONO_MSB_FIRST=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono01.msbfirst_font:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO01=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_MSB_FIRST_FONT=y
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono10.msbfirst_font:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO10=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_MSB_FIRST_FONT=y
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono01.lsbfirst.msbfirst_font:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO01=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_SDL_DISPLAY_MONO_MSB_FIRST=n
      - CONFIG_TEST_MSB_FIRST_FONT=y
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono10.lsbfirst.msbfirst_font:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO10=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_SDL_DISPLAY_MONO_MSB_FIRST=n
      - CONFIG_TEST_MSB_FIRST_FONT=y
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=9600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono01.transfer_buffersize_1:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO01=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=1
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.mono01.transfer_buffersize_320:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_MONO01=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=320
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.argb_8888.transfer_buffersize_600:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_ARGB_8888=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=600
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
  cfb.basic.rgb_565.transfer_buffersize_300:
    filter: dt_compat_enabled("zephyr,sdl-dc")
    extra_configs:
      - CONFIG_SDL_DISPLAY_DEFAULT_PIXEL_FORMAT_RGB_565=y
      - CONFIG_SDL_DISPLAY_USE_HARDWARE_ACCELERATOR=n
      - CONFIG_TEST_CFB_TRANSFER_BUF_SIZE=300
      - CONFIG_TEST_CFB_COMMAND_BUF_SIZE=512
